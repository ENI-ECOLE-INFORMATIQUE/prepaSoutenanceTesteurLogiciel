<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Quiz Soutenance - Testeurs Logiciels</title>
<style>
    body { font-family: Arial, sans-serif; margin: 20px; background-color: #f7f7f7; }
    .quiz-container { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .question { font-size: 1.2em; margin-bottom: 10px; }
    .answers button { display: block; margin: 5px 0; padding: 10px; width: 100%; font-size: 1em; border-radius: 5px; border: none; cursor: pointer; }
    .answers button:hover { opacity: 0.9; }
    .feedback { margin-top: 15px; font-weight: bold; }
    .timer { font-size: 1em; color: #d9534f; margin-bottom: 10px; }
    .nav-buttons { margin-top: 20px; display: flex; justify-content: space-between; }
    .nav-buttons button { padding: 10px; border: none; border-radius: 5px; cursor: pointer; background: #007BFF; color: white; }
    .nav-buttons button:disabled { background: #ccc; cursor: not-allowed; }
    .result { text-align: center; }
    .result h2 { margin-bottom: 20px; }
    .result button { background: #28a745; color: white; padding: 10px 20px; border: none; border-radius: 5px; font-size: 1em; cursor: pointer; }
</style>
</head>
<body>

<div class="quiz-container" id="quizContainer">
    <h1>Quiz Soutenance - Testeurs Logiciels</h1>
    <div class="timer">‚è± Temps restant : <span id="time">15</span> sec</div>
    <div class="question" id="question"></div>
    <div class="answers" id="answers"></div>
    <div class="feedback" id="feedback"></div>
    <div class="nav-buttons">
        <button id="prevBtn" disabled>‚¨Ö Question pr√©c√©dente</button>
        <button id="nextBtn" disabled>Question suivante ‚û°</button>
    </div>
</div>

<script>
const quiz = [
    {
        question: "Qu‚Äôest-ce que l‚Äôautomatisation des tests ?",
        answers: ["Ex√©cuter les tests manuellement", "Utiliser des scripts pour ex√©cuter les tests", "Ne plus faire de tests du tout"],
        correct: 1,
        explanation: "L‚Äôautomatisation consiste √† utiliser des scripts pour ex√©cuter des tests de mani√®re r√©guli√®re et efficace."
    },
    {
        question: "Qu‚Äôest-ce qu‚Äôun test unitaire ?",
        answers: ["Tester l‚Äôensemble de l‚Äôapplication", "Tester une fonction ou un module isol√©", "Tester l‚Äôapplication sur plusieurs navigateurs"],
        correct: 1,
        explanation: "Un test unitaire v√©rifie une petite partie du code (une fonction, un module) de mani√®re isol√©e."
    },
    {
        question: "Que signifie 'BDD' dans le contexte des tests ?",
        answers: ["Base De Donn√©es", "Behavior Driven Development", "Bug Detection Delay"],
        correct: 1,
        explanation: "BDD signifie Behavior Driven Development : une m√©thode qui d√©crit les fonctionnalit√©s en langage naturel pour faciliter la compr√©hension."
    }
];

let currentQuestion = 0;
let score = 0;
let timer;
let timeLeft = 30;

function startTimer() {
    clearInterval(timer);
    timeLeft = 30;
    document.getElementById("time").textContent = timeLeft;
    timer = setInterval(() => {
        timeLeft--;
        document.getElementById("time").textContent = timeLeft;
        if (timeLeft <= 0) {
            clearInterval(timer);
            showExplanation(null);
        }
    }, 1000);
}

function showQuestion(index) {
    const q = quiz[index];
    document.getElementById("question").textContent = q.question;
    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";
    q.answers.forEach((answer, i) => {
        const btn = document.createElement("button");
        btn.textContent = answer;
        btn.onclick = () => showExplanation(i);
        answersDiv.appendChild(btn);
    });
    document.getElementById("feedback").textContent = "";
    document.getElementById("prevBtn").disabled = index === 0;
    document.getElementById("nextBtn").disabled = true;
    startTimer();
}

function showExplanation(selected) {
    clearInterval(timer);
    const q = quiz[currentQuestion];
    const feedbackDiv = document.getElementById("feedback");
    const buttons = document.querySelectorAll("#answers button");
    buttons.forEach((btn, i) => {
        btn.disabled = true;
        if (i === q.correct) btn.style.backgroundColor = "#4CAF50";
        if (i === selected && selected !== q.correct) btn.style.backgroundColor = "#f44336";
    });

    if (selected === q.correct) {
        score++;
        feedbackDiv.textContent = "‚úÖ Bonne r√©ponse ! " + q.explanation;
    } else if (selected === null) {
        feedbackDiv.textContent = "‚è∞ Temps √©coul√© ! " + q.explanation;
    } else {
        feedbackDiv.textContent = "‚ùå Mauvaise r√©ponse. " + q.explanation;
    }
    document.getElementById("nextBtn").disabled = false;
}

function showResult() {
    const percent = Math.round((score / quiz.length) * 100);
    let message = "Pas mal, mais tu peux mieux faire üí™";
    if (percent === 100) message = "Parfait ! Tu es pr√™t(e) pour la soutenance üéâ";
    else if (percent >= 70) message = "Tr√®s bien ! Tu ma√Ætrises bien le sujet üëç";
    
    document.getElementById("quizContainer").innerHTML = `
        <div class="result">
            <h2>Quiz termin√© üéØ</h2>
            <p>Score : ${score}/${quiz.length} (${percent}%)</p>
            <p>${message}</p>
            <button onclick="restartQuiz()">üîÑ Recommencer</button>
        </div>
    `;
}

function restartQuiz() {
    score = 0;
    currentQuestion = 0;
    document.getElementById("quizContainer").innerHTML = `
        <h1>Quiz Soutenance - Testeurs Logiciels</h1>
        <div class="timer">‚è± Temps restant : <span id="time">30</span> sec</div>
        <div class="question" id="question"></div>
        <div class="answers" id="answers"></div>
        <div class="feedback" id="feedback"></div>
        <div class="nav-buttons">
            <button id="prevBtn" disabled>‚¨Ö Question pr√©c√©dente</button>
            <button id="nextBtn" disabled>Question suivante ‚û°</button>
        </div>
    `;
    document.getElementById("prevBtn").onclick = () => {
        if (currentQuestion > 0) {
            currentQuestion--;
            showQuestion(currentQuestion);
        }
    };
    document.getElementById("nextBtn").onclick = () => {
        if (currentQuestion < quiz.length - 1) {
            currentQuestion++;
            showQuestion(currentQuestion);
        } else {
            showResult();
        }
    };
    showQuestion(currentQuestion);
}

document.getElementById("prevBtn").onclick = () => {
    if (currentQuestion > 0) {
        currentQuestion--;
        showQuestion(currentQuestion);
    }
};

document.getElementById("nextBtn").onclick = () => {
    if (currentQuestion < quiz.length - 1) {
        currentQuestion++;
        showQuestion(currentQuestion);
    } else {
        showResult();
    }
};

showQuestion(currentQuestion);
</script>

</body>
</html>
